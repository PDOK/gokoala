{{- /*gotype: github.com/PDOK/gokoala/internal/engine.TemplateData*/ -}}
{{define "content"}}
<hgroup>
    <h1 class="title h2" id="title">{{ .Config.Title }} - {{ .Params.CollectionTitle }}</h1>
</hgroup>
<div class="row py-3">
    <div class="col-md-12">
        <p>
            {{ i18n "SchemaDescription" }} <a href="{{ .Config.BaseURL }}/collections/{{ .Params.CollectionID }}/schema?f=json" aria-label="Open JSON Schema">JSON Schema</a>.
        </p>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">{{ i18n "FieldName" }}</th>
                    <th scope="col">{{ i18n "DataType" }}</th>
                    <th scope="col">{{ i18n "Required" }}</th>
                    <th scope="col">{{ i18n "DescriptionLabel" }}</th>
                </tr>
            </thead>
            <tbody>
            <tr>
                <td>id</td>
                {{ if .Params.HasExternalFid }}
                    <td>uuid</td>
                {{ else }}
                    <td>integer</td>
                {{ end }}
                <td>{{ i18n "RequiredYes"}}</td>
                <td>{{ i18n "FeatureIdDescription"}}{{ if .Params.HasExternalFid }} {{ i18n "StableFeatureIdOverTime"}}{{ end }}</td>
            </tr>
            {{ range $feat := .Params.Fields }}
                {{ if $feat.IsFid }}
                    {{ continue }}
                {{ end }}
                {{ if $feat.IsExternalFid }}
                    {{ continue }}
                {{ end }}
                <tr>
                    <td>{{ $feat.Name }}</td>
                    <td>{{ $feat.ToTypeFormat.Type }}</td>
                    <td>{{ if $feat.IsRequired }}{{ i18n "RequiredYes"}}{{ else }}{{ i18n "RequiredNo" }}{{ end }}</td>
                    <td>{{ $feat.Description }}</td>
                </tr>
            {{ end }}
            </tbody>
        </table>
    </div>
</div>
{{end}}
